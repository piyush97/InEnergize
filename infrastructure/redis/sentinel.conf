# Redis Sentinel Configuration for InErgize Enterprise Backend
# High Availability and Automatic Failover

port 26379
bind 0.0.0.0

# Master Configuration
sentinel monitor inergize-master redis-master 6379 2
sentinel auth-pass inergize-master ${REDIS_PASSWORD}
sentinel down-after-milliseconds inergize-master 30000
sentinel parallel-syncs inergize-master 1
sentinel failover-timeout inergize-master 180000

# Sentinel Authentication
requirepass ${REDIS_PASSWORD}

# Notification Scripts
sentinel notification-script inergize-master /opt/redis/notify.sh
sentinel client-reconfig-script inergize-master /opt/redis/reconfig.sh

# Logging
logfile /var/log/redis/sentinel.log
loglevel notice

# Performance Settings
tcp-keepalive 60

# Announce Configuration for Docker
sentinel announce-ip redis-sentinel
sentinel announce-port 26379

# Deny Scripts Reconfig
sentinel deny-scripts-reconfig yes